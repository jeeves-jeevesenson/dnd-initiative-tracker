<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Edit Character</title>
  <link rel="stylesheet" href="/assets/web/edit_character/styles.css?v=__APP_VERSION__" />
</head>
<body>
  <main class="page">
    <header>
      <p class="eyebrow">InitTracker LAN â€¢ Character Editor</p>
      <h1>Edit Character YAML</h1>
      <p class="subtitle">Choose a player YAML, edit it safely, and upload updated YAML files.</p>
      <div class="notice">
        <strong>Need stale YAML fixed?</strong>
        <ul>
          <li>Use <em>Refresh Player Cache</em> if this page or spell slots look outdated.</li>
          <li>Save keeps schema defaults intact to avoid missing sections.</li>
        </ul>
      </div>
    </header>

    <section class="panel">
      <div class="field-row">
        <div class="field">
          <label for="character-select">Choose character YAML</label>
          <select id="character-select" name="character-select"></select>
        </div>
        <div class="field">
          <label>&nbsp;</label>
          <button class="ghost" type="button" id="open-character-button">Open selected YAML</button>
        </div>
      </div>
      <div class="field-row">
        <div class="field">
          <label for="upload-yaml-input">Upload player YAML</label>
          <input type="file" id="upload-yaml-input" name="upload-yaml-input" accept=".yaml,.yml" />
        </div>
        <div class="field">
          <label>&nbsp;</label>
          <button class="ghost" type="button" id="upload-yaml-button">Upload YAML</button>
        </div>
      </div>
      <div id="character-form" class="form-grid" aria-live="polite"></div>
      <div class="actions">
        <div class="action-buttons">
          <button class="primary" type="button" id="overwrite-button">Overwrite YAML</button>
          <button class="ghost" type="button" id="refresh-cache-button">Refresh player cache</button>
          <button class="ghost" type="button" id="export-button">Export YAML</button>
        </div>
        <div class="field">
          <label for="filename-input">YAML filename</label>
          <input type="text" id="filename-input" name="filename-input" placeholder="e.g., merisiel.yaml" autocomplete="off" />
        </div>
        <p class="status" id="draft-status" role="status">Choose a YAML file and click Open selected YAML.</p>
      </div>
    </section>
  </main>

  <script src="/assets/web/edit_character/app.js?v=__APP_VERSION__"></script>
</body>
</html>
